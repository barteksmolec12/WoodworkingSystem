
@{
    ViewData["Title"] = "ShoppingCart";

}

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<style>
    @@import url('https://fonts.googleapis.com/css?family=Roboto');

    body {
        font-family: 'Roboto', sans-serif;
    }

    * {
        margin: 0;
        padding: 0;
    }

    i {
        margin-right: 10px;
    }

    /*------------------------*/
    input:focus,
    button:focus,
    .form-control:focus {
        outline: none;
        box-shadow: none;
    }

    .form-control:disabled, .form-control[readonly] {
        background-color: #fff;
    }

    .table tr,
    .table tr td {
        vertical-align: middle;
    }

    .button-container {
        display: flex;
        align-items: center;
    }

        .button-container .form-control {
            max-width: 80px;
            text-align: center;
            display: inline-block;
            margin: 0px 5px;
        }

    #myTable .form-control {
        width: auto;
        display: inline-block;
    }

    .cart-qty-plus,
    .cart-qty-minus {
        width: 38px;
        height: 38px;
        background-color: #fff;
        border: 1px solid #ced4da;
        border-radius: .25rem;
    }

        .cart-qty-plus:hover,
        .cart-qty-minus:hover {
            background-color: #5161ce;
            color: #fff;
        }

    .img-prdct {
        background-color: #5161ce;
        border-radius: 4px;
    }

        .img-prdct img {
            width: 100%;
            height: 100%;
        }
</style>
<div><partial name="_HeaderForCustomerArea.cshtml" /></div>

<div class="container-fluid mt-5">
    <h2 class="mb-5 text-center">Mój koszyk</h2>
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="table-responsive">
                <table id="myTable" class="table">
                    <thead>
                        <tr>
                            <th></th>
                            <th style="text-align:center;">Produkt</th>
                            <th style="text-align:center;">Ilość</th>
                            <th style="text-align:center;">Cena produktu</th>
                            <th class="text-right"><span id="amount" class="amount">Kwota</span> </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="product-img">
                                    <div class="img-prdct"><img src="https://e-meblowy.pl/3529-large_default/stolik-kawowy-infinity-60x60.jpg"></div>
                                </div>
                            </td>
                            <td>
                                <p>Idustrialny</p>
                            </td>
                            <td>
                                <div class="button-container">
                                    <button class="cart-qty-plus" type="button" value="+">+</button>
                                    <input type="text" name="qty" min="0" class="qty form-control" value="0" />
                                    <button class="cart-qty-minus" type="button" value="-">-</button>
                                </div>
                            </td>
                            <td>
                                <input type="text" value="72" class="price form-control" disabled>
                            </td>
                            <td align="right">$ <span id="amount" class="amount">0</span></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="product-img">
                                    <div class="img-prdct"><img src="https://www.woodica.pl/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/s/t/stol_debowy_modern_u_06e_render_5.webp"></div>
                                </div>
                            </td>
                            <td>
                                <p>GARANT 220</p>
                            </td>
                            <td>
                                <div class="button-container">
                                    <button class="cart-qty-plus" type="button" value="+">+</button>
                                    <input type="text" name="qty" min="0" class="qty form-control" value="0" />
                                    <button class="cart-qty-minus" type="button" value="-">-</button>
                                </div>
                            </td>
                            <td>
                                <input type="text" value="125" class="price form-control" disabled>
                            </td>
                            <td align="right">$ <span id="amount" class="amount">0</span></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="product-img">
                                    <div class="img-prdct"><img src="https://e1.meble.pl/gfx/_zdjecia_e1/sklep_oferta/3/350/3350749/bstol_rozkladany_garant_175___index_335787_6244644136.jpg"></div>
                                </div>
                            </td>
                            <td>
                                <p>Product Three</p>
                            </td>
                            <td>
                                <div class="button-container">
                                    <button class="cart-qty-plus" type="button" value="+">+</button>
                                    <input type="text" name="qty" min="0" class="qty form-control" value="0" />
                                    <button class="cart-qty-minus" type="button" value="-">-</button>
                                </div>
                            </td>
                            <td>
                                <input type="text" value="250" class="price form-control" disabled>
                            </td>
                            <td align="right">$ <span id="amount" class="amount">0</span></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="product-img">
                                    <div class="img-prdct"><img src="https://kludo.pl/114-large_default/stolik-kawowy-erin.jpg"></div>
                                </div>
                            </td>
                            <td>
                                <p>Modern z dostawką</p>
                            </td>
                            <td>
                                <div class="button-container">
                                    <button class="cart-qty-plus" type="button" value="+">+</button>
                                    <input type="text" name="qty" min="0" class="qty form-control" value="0" />
                                    <button class="cart-qty-minus" type="button" value="-">-</button>
                                </div>
                            </td>
                            <td>
                                <input type="text" value="300" class="price form-control" disabled>
                            </td>
                            <td align="right">$ <span id="amount" class="amount">0</span></td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="4"></td>
                            <td align="right"><strong>SUMA <span id="total" class="total">0</span></strong></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
@section Scripts{


  
<script>
    // -----------------for-Shopping-cart-------------
    $(document).ready(function () {
        update_amounts();
        $('.qty, .price').on('keyup keypress blur change', function (e) {
            update_amounts();
        });
    });
    function update_amounts() {
        var sum = 0.0;
        $('#myTable > tbody  > tr').each(function () {
            var qty = $(this).find('.qty').val();
            var price = $(this).find('.price').val();
            var amount = (qty * price)
            sum += amount;
            $(this).find('.amount').text('' + amount);
        });
        $('.total').text(sum);
    }



    //----------------for quantity-increment-or-decrement-------
    var incrementQty;
    var decrementQty;
    var plusBtn = $(".cart-qty-plus");
    var minusBtn = $(".cart-qty-minus");
    var incrementQty = plusBtn.click(function () {
        var $n = $(this)
            .parent(".button-container")
            .find(".qty");
        $n.val(Number($n.val()) + 1);
        update_amounts();
    });

    var decrementQty = minusBtn.click(function () {
        var $n = $(this)
            .parent(".button-container")
            .find(".qty");
        var QtyVal = Number($n.val());
        if (QtyVal > 0) {
            $n.val(QtyVal - 1);
        }
        update_amounts();
    });













</script>
}